(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bdb43f9a"],{"26b7":function(e,t,r){"use strict";var a=r("773c"),o=r.n(a);o.a},"5b52":function(e,t,r){},"60b0":function(e,t,r){"use strict";var a=r("e873"),o=r.n(a);o.a},"773c":function(e,t,r){},"782c":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user_block"},[r("div",{staticClass:"top_block"},[r("query-form")],1),r("div",{staticClass:"main_block"},[r("query-grid")],1),r("div",{staticClass:"dialog_block"},[r("create-form")],1),r("div",{staticClass:"dialog_block"},[r("update-form")],1)])},o=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{staticClass:"create-dialog",attrs:{title:"新增",visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"queryForm",attrs:{model:e.dataForm,"label-width":"150px",rules:e.rules}},[r("el-row",{attrs:{gutter:24}},[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"用户ID：",prop:"userid"}},[r("el-input",{model:{value:e.dataForm.userid,callback:function(t){e.$set(e.dataForm,"userid",t)},expression:"dataForm.userid"}})],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"用户姓名：",prop:"custname"}},[r("el-input",{model:{value:e.dataForm.custname,callback:function(t){e.$set(e.dataForm,"custname",t)},expression:"dataForm.custname"}})],1)],1)],1),r("el-row",{attrs:{gutter:24}},[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"电子邮箱：",prop:"email"}},[r("el-input",{model:{value:e.dataForm.email,callback:function(t){e.$set(e.dataForm,"email",t)},expression:"dataForm.email"}})],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"微信号：",prop:"wechatno"}},[r("el-input",{model:{value:e.dataForm.wechatno,callback:function(t){e.$set(e.dataForm,"wechatno",t)},expression:"dataForm.wechatno"}})],1)],1)],1),r("el-row",{attrs:{gutter:24}},[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"手机号码：",prop:"phoneno"}},[r("el-input",{model:{value:e.dataForm.phoneno,callback:function(t){e.$set(e.dataForm,"phoneno",t)},expression:"dataForm.phoneno"}})],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"用户密码：",prop:"password"}},[r("el-input",{model:{value:e.dataForm.password,callback:function(t){e.$set(e.dataForm,"password",t)},expression:"dataForm.password"}})],1)],1)],1),r("el-row",{attrs:{gutter:24}},[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"用户角色：",prop:"roleid"}},[r("tf-select",{attrs:{option:"role"},model:{value:e.dataForm.roleid,callback:function(t){e.$set(e.dataForm,"roleid",t)},expression:"dataForm.roleid"}})],1)],1)],1)],1),r("div",{staticClass:"button-block"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleCreate("orderForm")}}},[e._v("确认")]),r("el-button",{on:{click:function(t){return e.resetForm("orderForm")}}},[e._v("重置")])],1)],1)},n=[],l=(r("96cf"),r("1da1")),i=r("d8ad"),u=r("3642"),c={components:{TfSelect:u["a"]},data:function(){var e=this;return{dataForm:{userid:"",custname:"",phoneno:"",username:"",email:"",wechatno:"",password:"",roleid:""},dialogVisible:!1,rules:{userid:[{max:18,message:"显示名长度必须小于等于18字符"},{validator:function(t,r,a){if(!r)return a(new Error("登录账号不能为空"));e.isUseridRepeat().then((function(e){e?a(new Error("该账号已存在")):a()}))},trigger:"blur"}],custname:[{required:!0,message:"请输入您的真实姓名",trigger:"blur"}],wechatno:[{required:!0,message:"请输入您的微信号",trigger:"blur"}],password:[{required:!0,message:"请输入您的密码",trigger:"blur"}],roleid:[{required:!0,message:"请选择该用户角色",trigger:"blur"}],email:[{required:!0,message:"请输入您的邮箱",trigger:"blur"}]}}},methods:{handleCreate:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$loading({lock:!0,text:"loading",background:"rgba(0,0,0,.7)"}),t.next=3,e.$http.post("/user/createUser",e.dataForm).then((function(t){r.close(),"10001"===t.data.resposeCode?(e.$message({message:"创建用户成功",type:"success"}),e.dialogVisible=!1,e.resetForm(),e.refreshGrid()):e.$alert("创建用户失败，请联系工作人员，微信号：catAshera3","",{confirmButtonText:"确定"})}))["catch"]((function(e){r.close(),console.log(e,"err")}));case 3:a=t.sent,console.log(a,"res");case 5:case"end":return t.stop()}}),t)})))()},resetForm:function(){this.dataForm={userid:"",custname:"",phoneno:"",username:"",email:"",wechatno:"",password:"",roleid:""}},refreshGrid:function(){i["a"].$emit("query",!0)},isUseridRepeat:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/user/countUser",{userid:e.dataForm.userid});case 2:if(r=t.sent,!(r.data.data>0)){t.next=6;break}return console.log("res success",r),t.abrupt("return",!0);case 6:return console.log("res error",r),t.abrupt("return",!1);case 8:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;i["a"].$on("createDialogVisible",(function(t){e.dialogVisible=t}))}},m=c,d=(r("87fe"),r("2877")),p=Object(d["a"])(m,s,n,!1,null,"6f449f20",null),f=p.exports,b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{staticClass:"create-dialog",attrs:{title:"修改",visible:e.dialogVisible,width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"queryForm",attrs:{model:e.dataForm,"label-width":"150px",rules:e.rules}},[r("el-row",{attrs:{gutter:24}},[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"用户ID：",prop:"userid"}},[r("el-input",{attrs:{disabled:""},model:{value:e.dataForm.userid,callback:function(t){e.$set(e.dataForm,"userid",t)},expression:"dataForm.userid"}})],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"用户姓名：",prop:"custname"}},[r("el-input",{model:{value:e.dataForm.custname,callback:function(t){e.$set(e.dataForm,"custname",t)},expression:"dataForm.custname"}})],1)],1)],1),r("el-row",{attrs:{gutter:24}},[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"电子邮箱：",prop:"email"}},[r("el-input",{model:{value:e.dataForm.email,callback:function(t){e.$set(e.dataForm,"email",t)},expression:"dataForm.email"}})],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"微信号：",prop:"wechatno"}},[r("el-input",{model:{value:e.dataForm.wechatno,callback:function(t){e.$set(e.dataForm,"wechatno",t)},expression:"dataForm.wechatno"}})],1)],1)],1),r("el-row",{attrs:{gutter:24}},[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"手机号码：",prop:"phoneno"}},[r("el-input",{model:{value:e.dataForm.phoneno,callback:function(t){e.$set(e.dataForm,"phoneno",t)},expression:"dataForm.phoneno"}})],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"用户密码：",prop:"password"}},[r("el-input",{model:{value:e.dataForm.password,callback:function(t){e.$set(e.dataForm,"password",t)},expression:"dataForm.password"}})],1)],1)],1),r("el-row",{attrs:{gutter:24}},[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"用户角色：",prop:"roleid"}},[r("tf-select",{attrs:{option:"role"},model:{value:e.dataForm.roleid,callback:function(t){e.$set(e.dataForm,"roleid",t)},expression:"dataForm.roleid"}})],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"用户状态：",prop:"userstate"}},[r("tf-select",{attrs:{option:"userstate"},model:{value:e.dataForm.userstate,callback:function(t){e.$set(e.dataForm,"userstate",t)},expression:"dataForm.userstate"}})],1)],1)],1)],1),r("div",{staticClass:"button-block"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleConfirm()}}},[e._v("确认")]),r("el-button",{on:{click:function(t){return e.cancel()}}},[e._v("取消")])],1)],1)},g=[],h={components:{TfSelect:u["a"]},data:function(){return{dataForm:{userid:"",custname:"",phoneno:"",username:"",email:"",wechatno:"",password:"",roleid:"",userstate:""},dialogVisible:!1,rules:{custname:[{required:!0,message:"请输入您的真实姓名",trigger:"blur"}],wechatno:[{required:!0,message:"请输入您的微信号",trigger:"blur"}],password:[{required:!0,message:"请输入您的密码",trigger:"blur"}],roleid:[{required:!0,message:"请选择该用户角色",trigger:"blur"}],email:[{required:!0,message:"请输入您的邮箱",trigger:"blur"}]}}},methods:{handleConfirm:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$loading({lock:!0,text:"loading",background:"rgba(0,0,0,.7)"}),t.next=3,e.$http.post("/user/updateUser",e.dataForm).then((function(t){r.close(),"10001"===t.data.resposeCode?(e.$message({message:"修改用户信息成功",type:"success"}),e.dialogVisible=!1,e.refreshGrid()):e.$alert("修改用户信息失败，请联系工作人员，微信号：catAshera3","",{confirmButtonText:"确定"})}))["catch"]((function(e){r.close(),console.log(e,"err")}));case 3:a=t.sent,console.log(a,"res");case 5:case"end":return t.stop()}}),t)})))()},cancel:function(){this.dialogVisible=!1},isUseridRepeat:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/user/countUser",{userid:e.dataForm.userid});case 2:if(r=t.sent,!(r.data.data>0)){t.next=6;break}return console.log("res success",r),t.abrupt("return",!0);case 6:return console.log("res error",r),t.abrupt("return",!1);case 8:case"end":return t.stop()}}),t)})))()},refreshGrid:function(){i["a"].$emit("query",!0)}},mounted:function(){var e=this;i["a"].$on("updateDialogVisible",(function(t){e.dialogVisible=!0,e.dataForm.userid=t.userid,e.dataForm.custname=t.custname,e.dataForm.phoneno=t.phoneno,e.dataForm.username=t.username,e.dataForm.email=t.email,e.dataForm.wechatno=t.wechatno,e.dataForm.password=t.password,e.dataForm.roleid=t.roleid,e.dataForm.userstate=t.userstate,console.log("row",t)}))}},F=h,w=(r("60b0"),Object(d["a"])(F,b,g,!1,null,"6fc4c922",null)),v=w.exports,y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"queryGrid"},[r("el-button",{staticClass:"create-button",attrs:{type:"primary"},on:{click:e.showCreateDialog}},[e._v("新增")]),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[r("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[r("el-form-item",{attrs:{label:"用户昵称"}},[r("span",[e._v(e._s(t.row.username))])]),r("el-form-item",{attrs:{label:"用户角色"}},[r("span",[e._v(e._s(t.row.roleid))])]),r("el-form-item",{attrs:{label:"创建时间"}},[r("span",[e._v(e._s(t.row.createtime))])]),r("el-form-item",{attrs:{label:"电子邮箱"}},[r("span",[e._v(e._s(t.row.email))])]),r("el-form-item",{attrs:{label:"微信号"}},[r("span",[e._v(e._s(t.row.wechatno))])]),r("el-form-item",{attrs:{label:"密码"}},[r("span",[e._v(e._s(t.row.password))])]),r("el-form-item",{attrs:{label:"用户状态"}},[r("span",[e._v(e._s(t.row.userstate))])])],1)]}}])}),r("el-table-column",{attrs:{prop:"userid",label:"用户ID"}}),r("el-table-column",{attrs:{prop:"custname",label:"真实姓名"}}),r("el-table-column",{attrs:{prop:"roleid",label:"用户角色"}}),r("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.handleUpdate(t.row)}}},[e._v("编辑")]),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),r("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.listCount},on:{"size-change":e.handlePageSizeChange,"current-change":e.handleCurrentPageChange}})],1)},k=[],$={data:function(){return{tableData:[],currentPage:1,pageSize:10,listCount:100}},methods:{getOrderList:function(){var e=this;i["a"].$on("userList",(function(t){e.tableData=t}))},handleUpdate:function(e){i["a"].$emit("updateDialogVisible",e)},handleDelete:function(e){this.$http.post("/user/deleteUser",{userid:e.userid}),i["a"].$emit("query",!0)},handlePageSizeChange:function(e){this.$store.commit("setPageSize",e),i["a"].$emit("query",!0)},handleCurrentPageChange:function(e){this.$store.commit("setCurrentPage",e),i["a"].$emit("query",!0)},showCreateDialog:function(){i["a"].$emit("createDialogVisible",!0)}},mounted:function(){this.getOrderList()}},x=$,q=(r("c62f"),Object(d["a"])(x,y,k,!1,null,"0373a99e",null)),_=q.exports,C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"queryForm"},[r("el-form",{ref:"queryForm",attrs:{model:e.queryForm,"label-width":"150px"}},[r("el-row",{attrs:{gutter:24}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"用户ID：",prop:"userid"}},[r("el-input",{model:{value:e.queryForm.userid,callback:function(t){e.$set(e.queryForm,"userid",t)},expression:"queryForm.userid"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"真实姓名：",prop:"custname"}},[r("el-input",{model:{value:e.queryForm.custname,callback:function(t){e.$set(e.queryForm,"custname",t)},expression:"queryForm.custname"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"用户权限：",prop:"roleid"}},[r("tf-select",{attrs:{option:"role"},model:{value:e.queryForm.roleid,callback:function(t){e.$set(e.queryForm,"roleid",t)},expression:"queryForm.roleid"}})],1)],1)],1),r("el-row",{attrs:{gutter:24}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"电子邮箱",prop:"email"}},[r("el-input",{model:{value:e.queryForm.email,callback:function(t){e.$set(e.queryForm,"email",t)},expression:"queryForm.email"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"微信号：",prop:"wechatno"}},[r("el-input",{model:{value:e.queryForm.wechatno,callback:function(t){e.$set(e.queryForm,"wechatno",t)},expression:"queryForm.wechatno"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"手机号码：",prop:"phoneno"}},[r("el-input",{model:{value:e.queryForm.phoneno,callback:function(t){e.$set(e.queryForm,"phoneno",t)},expression:"queryForm.phoneno"}})],1)],1)],1),r("el-row",{attrs:{gutter:24}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"用户状态：",prop:"userstate"}},[r("tf-select",{attrs:{option:"userstate"},model:{value:e.queryForm.userstate,callback:function(t){e.$set(e.queryForm,"userstate",t)},expression:"queryForm.userstate"}})],1)],1)],1),r("div",{staticClass:"button-block"},[r("el-button",{staticClass:"button-query",attrs:{type:"primary"},on:{click:function(t){return e.query()}}},[e._v("查询")]),r("el-button",{staticClass:"button-reset",on:{click:function(t){return e.reset()}}},[e._v("重置")])],1)],1)],1)},z=[],D={data:function(){return{queryForm:{userid:"",username:"",custname:"",phoneno:"",roleid:"",email:"",wechatno:"",userstate:"",pageSize:10,currentPage:1}}},methods:{query:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$loading({lock:!0,text:"loading",background:"rgba(0,0,0,.7)"}),e.queryForm.pageSize=e.$store.state.pageSize,e.queryForm.currentPage=e.$store.state.currentPage,t.next=5,e.$http.post("/user/getUserList",e.queryForm).then((function(t){r.close(),"10001"===t.data.resposeCode?i["a"].$emit("userList",t.data.data.list):e.$alert("查询出错，请联系工作人员，微信号：catAshera3","",{confirmButtonText:"确定"})}))["catch"]((function(e){r.close(),console.log(e,"err")}));case 5:a=t.sent,console.log("res1",a);case 7:case"end":return t.stop()}}),t)})))()},reset:function(){this.queryForm={userid:"",username:"",custname:"",phoneno:"",roleid:"",email:"",wechatno:"",userstate:"",pageSize:10,currentPage:1}}},mounted:function(){var e=this;i["a"].$on("query",(function(t){console.log(t),e.query()}))}},V=D,S=(r("827d"),Object(d["a"])(V,C,z,!1,null,"2dc64208",null)),R=S.exports,O={components:{CreateForm:f,UpdateForm:v,QueryGrid:_,QueryForm:R},data:function(){return{}},methods:{}},P=O,U=(r("26b7"),Object(d["a"])(P,a,o,!1,null,"043794f1",null));t["default"]=U.exports},"827d":function(e,t,r){"use strict";var a=r("ee2a"),o=r.n(a);o.a},"87fe":function(e,t,r){"use strict";var a=r("5b52"),o=r.n(a);o.a},bf23:function(e,t,r){},c62f:function(e,t,r){"use strict";var a=r("bf23"),o=r.n(a);o.a},e873:function(e,t,r){},ee2a:function(e,t,r){}}]);